"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Logger = void 0;
const aws_sdk_1 = require("aws-sdk");
class Logger {
    constructor(logGroup, logStream) {
        this.logGroup = logGroup;
        this.logStream = logStream;
        this.client = new aws_sdk_1.CloudWatchLogs();
        this.client.createLogStream({
            logGroupName: this.logGroup,
            logStreamName: this.logStream
        });
    }
    info(message) {
        console.log(message);
        this.client.putLogEvents({
            logGroupName: this.logGroup,
            logStreamName: this.logStream,
            logEvents: [{
                    message: message,
                    timestamp: Date.now()
                }],
            sequenceToken: this.sequenceToken
        }, (err, data) => {
            if (err) {
                console.error(err, err.stack);
            }
            else {
                this.sequenceToken = data.nextSequenceToken;
            }
        });
    }
}
exports.Logger = Logger;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTG9nZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiTG9nZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLHFDQUF5QztBQUV6QyxNQUFhLE1BQU07SUFNZixZQUFZLFFBQWdCLEVBQUUsU0FBaUI7UUFDM0MsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFDM0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLHdCQUFjLEVBQUUsQ0FBQztRQUVuQyxJQUFJLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQztZQUN4QixZQUFZLEVBQUUsSUFBSSxDQUFDLFFBQVE7WUFDM0IsYUFBYSxFQUFFLElBQUksQ0FBQyxTQUFTO1NBQ2hDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFFRCxJQUFJLENBQUMsT0FBZTtRQUNoQixPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBRXJCLElBQUksQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDO1lBQ3JCLFlBQVksRUFBRSxJQUFJLENBQUMsUUFBUTtZQUMzQixhQUFhLEVBQUUsSUFBSSxDQUFDLFNBQVM7WUFDN0IsU0FBUyxFQUFFLENBQUM7b0JBQ1IsT0FBTyxFQUFFLE9BQU87b0JBQ2hCLFNBQVMsRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFO2lCQUN4QixDQUFDO1lBQ0YsYUFBYSxFQUFFLElBQUksQ0FBQyxhQUFhO1NBQ3BDLEVBQUUsQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLEVBQUU7WUFDYixJQUFHLEdBQUcsRUFBRTtnQkFDSixPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7YUFDakM7aUJBQU07Z0JBQ0gsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUM7YUFDL0M7UUFDTCxDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7Q0FDSjtBQXBDRCx3QkFvQ0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDbG91ZFdhdGNoTG9ncyB9IGZyb20gJ2F3cy1zZGsnO1xyXG5cclxuZXhwb3J0IGNsYXNzIExvZ2dlciB7XHJcbiAgICByZWFkb25seSBsb2dHcm91cDogc3RyaW5nO1xyXG4gICAgcmVhZG9ubHkgbG9nU3RyZWFtOiBzdHJpbmc7XHJcbiAgICByZWFkb25seSBjbGllbnQ6IENsb3VkV2F0Y2hMb2dzXHJcbiAgICBwcml2YXRlIHNlcXVlbmNlVG9rZW46IHN0cmluZyB8IHVuZGVmaW5lZDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihsb2dHcm91cDogc3RyaW5nLCBsb2dTdHJlYW06IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMubG9nR3JvdXAgPSBsb2dHcm91cDtcclxuICAgICAgICB0aGlzLmxvZ1N0cmVhbSA9IGxvZ1N0cmVhbTtcclxuICAgICAgICB0aGlzLmNsaWVudCA9IG5ldyBDbG91ZFdhdGNoTG9ncygpO1xyXG5cclxuICAgICAgICB0aGlzLmNsaWVudC5jcmVhdGVMb2dTdHJlYW0oe1xyXG4gICAgICAgICAgICBsb2dHcm91cE5hbWU6IHRoaXMubG9nR3JvdXAsXHJcbiAgICAgICAgICAgIGxvZ1N0cmVhbU5hbWU6IHRoaXMubG9nU3RyZWFtXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBpbmZvKG1lc3NhZ2U6IHN0cmluZykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xyXG5cclxuICAgICAgICB0aGlzLmNsaWVudC5wdXRMb2dFdmVudHMoe1xyXG4gICAgICAgICAgICBsb2dHcm91cE5hbWU6IHRoaXMubG9nR3JvdXAsXHJcbiAgICAgICAgICAgIGxvZ1N0cmVhbU5hbWU6IHRoaXMubG9nU3RyZWFtLFxyXG4gICAgICAgICAgICBsb2dFdmVudHM6IFt7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXHJcbiAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICBzZXF1ZW5jZVRva2VuOiB0aGlzLnNlcXVlbmNlVG9rZW5cclxuICAgICAgICB9LCAoZXJyLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGlmKGVycikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIsIGVyci5zdGFjayk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlcXVlbmNlVG9rZW4gPSBkYXRhLm5leHRTZXF1ZW5jZVRva2VuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufSJdfQ==